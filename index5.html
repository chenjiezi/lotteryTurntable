<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>抽奖轮盘</title>
  <style>
    /* 容器样式 */
    .container {
      position: relative;
      width: 500px;
      height: 500px;
    }
    
    /* Canvas 样式 */
    #wheelCanvas {
      position: absolute;
      width: 100%;
      height: 100%;
    }
 
    /* 按钮样式 */
    #startButton {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      z-index: 1;
      padding: 10px 20px;
      font-size: 20px;
      cursor: pointer;
      background: #ff4444;
      color: white;
      border: none;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <div class="container">
    <canvas id="wheelCanvas" width="500" height="500"></canvas>
    <button id="startButton">开始抽奖</button>
  </div>
 
  <script>
    const canvas = document.getElementById('wheelCanvas'); 
    const ctx = canvas.getContext('2d'); 
    const startButton = document.getElementById('startButton'); 
 
    // 轮盘配置 
    const wheel = {
      radius: 200,          // 轮盘半径 
      x: 250,               // 中心坐标X 
      y: 250,               // 中心坐标Y 
      rotation: 0,          // 当前旋转角度 
      isSpinning: false,    // 是否正在旋转 
      speed: 0,             // 旋转速度 
      sections: [           // 轮盘分区 
        { color: '#FF6B6B', text: '一等奖' },
        { color: '#4ECDC4', text: '二等奖' },
        { color: '#45B7D1', text: '三等奖' },
        { color: '#96CEB4', text: '谢谢参与' },
        { color: '#FFEEAD', text: '幸运奖' },
        { color: '#D4A5A5', text: '纪念奖' }
      ]
    };
 
    // 绘制轮盘 
    function drawWheel() {
      ctx.clearRect(0,  0, canvas.width,  canvas.height); 
      
      // 绘制扇形分区 
      const sectionAngle = (2 * Math.PI) / wheel.sections.length; 
      wheel.sections.forEach((section,  index) => {
        // 绘制扇形 
        ctx.beginPath(); 
        ctx.moveTo(wheel.x,  wheel.y);
        ctx.arc( 
          wheel.x, wheel.y,
          wheel.radius, 
          sectionAngle * index + wheel.rotation, 
          sectionAngle * (index + 1) + wheel.rotation  
        );
        ctx.closePath(); 
        ctx.fillStyle  = section.color; 
        ctx.fill(); 
 
        // 绘制文字 
        ctx.save(); 
        ctx.translate(wheel.x,  wheel.y);
        ctx.rotate(sectionAngle  * index + sectionAngle/2 + wheel.rotation); 
        ctx.fillStyle  = '#333';
        ctx.font  = '20px Arial';
        ctx.fillText(section.text,  wheel.radius/2,  10);
        ctx.restore(); 
      });
    }
 
    // 旋转动画 
    function spin() {
      if (!wheel.isSpinning)  return;
 
      // 更新旋转角度 
      wheel.rotation  += wheel.speed; 
      
      // 减速效果 
      wheel.speed  *= 0.99;
      
      // 停止条件 
      if (wheel.speed  < 0.001) {
        wheel.isSpinning  = false;
        startButton.disabled  = false;
      }
 
      drawWheel();
      requestAnimationFrame(spin);
    }
 
    // 点击事件处理 
    startButton.addEventListener('click',  () => {
      if (!wheel.isSpinning)  {
        wheel.isSpinning  = true;
        wheel.speed  = 0.05;
        startButton.disabled  = true;
        spin();
      }
    });
 
    // 初始绘制 
    drawWheel();
  </script>
</body>
</html>